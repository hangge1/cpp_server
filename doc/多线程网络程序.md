**服务端模型:** 

**1 单线程处理N客户端**

<img src="%E5%A4%9A%E7%BA%BF%E7%A8%8B%E7%BD%91%E7%BB%9C%E7%A8%8B%E5%BA%8F/image-20250214220346604.png" alt="image-20250214220346604" style="zoom:50%;" />

**2 多进程多端口分组处理N客户端**

![image-20250214220516186](%E5%A4%9A%E7%BA%BF%E7%A8%8B%E7%BD%91%E7%BB%9C%E7%A8%8B%E5%BA%8F/image-20250214220516186.png)

**优点:** 单线程开发简单, 部署成本低(多台低性能机器分布式部署), 宕机影响小

**缺点:** 进程间通信较复杂, 开销大



**3 多线程单端口分组处理N客户端**

<img src="%E5%A4%9A%E7%BA%BF%E7%A8%8B%E7%BD%91%E7%BB%9C%E7%A8%8B%E5%BA%8F/image-20250214220859107.png" alt="image-20250214220859107" style="zoom:50%;" />

**优点:** 线程间数据通信容易, 部署成本高(单机高性能机器)

**缺点:** 一处异常, 全部崩溃



**4 多进程多线程多端口分组处理N客户端**

![image-20250214221244847](%E5%A4%9A%E7%BA%BF%E7%A8%8B%E7%BD%91%E7%BB%9C%E7%A8%8B%E5%BA%8F/image-20250214221244847.png)





**本节主要讲解:** 多线程分组处理N客户端模型

服务端逻辑图: 

1 主线程负责连接客户端

2 子线程负责对已连接的一组客户端负责收发数据

![image-20250214221502922](%E5%A4%9A%E7%BA%BF%E7%A8%8B%E7%BD%91%E7%BB%9C%E7%A8%8B%E5%BA%8F/image-20250214221502922.png)













